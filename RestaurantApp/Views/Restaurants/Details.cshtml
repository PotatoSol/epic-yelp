@{
  Layout = "_Layout";
}
@using RestaurantApp.Models
@model RestaurantApp.Models.Restaurant



@*
<h3>@Html.DisplayNameFor(model => model.RestaurantName): @Html.DisplayFor(model => model.RestaurantName)</h3>

@if(@Model.JoinEntities.Count == 0){

<p>This restaurant does not have any items</p>
}
else
{
<h4>Items this Restaurant has:</h4>
<ul>

@foreach(RestaurantItem join in Model.JoinEntities)
{
<li>@join.Item.ItemName</li>

@using (Html.BeginForm("DeleteJoin", "Restaurants"))
{

@Html.Hidden("joinId", @join.RestaurantItemId)

<input type="submit" value="Delete"/>

}
}
</ul>
}


@if(@Model.ReviewJoin.Count == 0)
{
<p>This restaurant does not have any reviews</p>
}
else
{
<h4>Reviews for this Restaurant:</h4>
<ul>
@foreach(RestaurantReview join in Model.ReviewJoin)
{
<li>@join.Review.ReviewTitle</li>
@using (Html.BeginForm("DeleteJoin", "Reviews"))
{

@Html.Hidden("joinId", @join.RestaurantReviewId)
@Html.Hidden("restaurantId", Model.RestaurantId)
<input type="submit" value="Delete"/>
}
}
</ul>
} *@

@if (@Model.JoinEntities.Count == 0)
{

  <p>@Html.DisplayFor(model => model.RestaurantName) does not have any items!</p>
}
else
{
  <table class="table caption-top">
      <caption>
    Reviews for: @Html.DisplayFor(model => model.RestaurantName)
  </caption>
  <thead>
    <tr>
      <th scope="col">Restaurant </th>
      <th scope="col">Items</th>
      <th scope="col">Action</th>

    </tr>
  </thead>

  <tbody>
    @foreach (RestaurantItem join in Model.JoinEntities)
      {
        <tr>
          <th scope="row">@join.Restaurant.RestaurantName</th>
          <td>@join.Item.ItemName</td>
          <td>@using (Html.BeginForm("DeleteJoin", "Restaurants"))
          {
            @Html.Hidden("joinId", @join.RestaurantItemId)
            <input type="submit" class="btn btn-primary flex-grow-1" value="Delete"/>
     
          }
          </td>
        </tr>
      }
    </tbody>
  </table>
}
@if(@Model.ReviewJoin.Count == 0)
{
    <p>Restaurant does not have any reviews!</p>
}
else
{
  <table class="table caption-top">
  <thead>
    <tr>
      <th scope="col">Title</th>
      <th scope="col">Review</th>
      <th scope="col">Action</th>

    </tr>
  </thead>

  <tbody>
  @foreach(RestaurantReview join in Model.ReviewJoin)
      {
        <tr>
          <th scope="row">@join.Review.ReviewTitle</th>
          <td>@join.Review.ReviewText</td>
          <td>
          @using (Html.BeginForm("DeleteJoin", "Reviews"))
          {

          @Html.Hidden("joinId", @join.RestaurantReviewId)
          @Html.Hidden("restaurantId", Model.RestaurantId)
           <input type="submit" class="btn btn-primary flex-grow-1" value="Delete"/>
} 
          </td>
        </tr>
      }
    </tbody>
  </table>
}

























@* <p>@Html.ActionLink("Add a Review", "Create", "Reviews", new { id = Model.RestaurantId })</p>
<p>@Html.ActionLink("Add a Item", "AddItem", new { id = Model.RestaurantId })</p>
<p>@Html.ActionLink("Edit Restaurant", "Edit", new { id = Model.RestaurantId })</p>
<p>@Html.ActionLink("Delete Restaurant", "Delete", new { id = Model.RestaurantId })</p>
<p>@Html.ActionLink("Back to list", "Index")</p> *@